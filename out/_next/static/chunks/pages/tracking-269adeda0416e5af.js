(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8337],{42510:function(e,r,n){"use strict";var t=n(64836);r.Z=void 0;var i=t(n(64938)),d=n(85893),o=(0,i.default)([(0,d.jsx)("path",{d:"M15 17h2v-3h1v-2l-1-5H2l-1 5v2h1v6h9v-6h4v3zm-6 1H4v-4h5v4zM2 4h15v2H2z"},"0"),(0,d.jsx)("path",{d:"M20 18v-3h-2v3h-3v2h3v3h2v-3h3v-2z"},"1")],"AddBusiness");r.Z=o},1878:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tracking",function(){return n(75740)}])},57705:function(e,r,n){"use strict";var t=n(85893),i=n(67294),d=n(11163),o=n(66720);let s=e=>{let{children:r}=e,n=(0,d.useRouter)(),[s,a]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{if(!n.isReady)return;let e=JSON.parse(localStorage.getItem("zoneid"));(null==e?void 0:e.length)>0?a(!0):n.push("/")},[n.isReady]),s)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.ZP,{}),r]}):null};s.propTypes={},r.Z=s},45570:function(e,r,n){"use strict";let t;n.d(r,{Z:function(){return a}});var i=n(88767),d=n(75904),o=n(22400);t=localStorage.getItem("token");let s=async(e,r,n)=>{try{let i=t?"?order_id=".concat(e):"?order_id=".concat(e,"&guest_id=").concat(n,"&contact_number=").concat(r),{data:o}=await d.Z.get("/api/v1/customer/order/track".concat(i));return o}catch(e){throw e}};function a(e,r,n,t){return(0,i.useQuery)("track-order-data",()=>s(e,r,n),{onSuccess:t,enabled:!1,retry:1,onError:o.R})}},75740:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSP:function(){return E},default:function(){return N}});var t=n(85893),i=n(67294),d=n(11163),o=n(65582),s=n(26447),a=n(46089),c=n(7036),l=n(79104),u=n(15861),p=n(86886),x=n(51126),h=n(50491),m=n(57126);n(82473);var v=n(82580),g=n(70880),_=n(88085),j=n(41796),f=n(11057),Z=n(42510),y=n(3769),b=n(52443),w=n(34059),S=n(61322),k=n(81982),O=n(7628),z=e=>{var r,i,o;let s,a,l,{showOrderDetails:p,trackOrderFormik:h,trackOrderData:m}=e,v=(0,b.u)(),g=(0,d.useRouter)(),z=btoa(null==h?void 0:null===(r=h.values)||void 0===r?void 0:r.contact_person_number),C=(0,O.L)();return n.g&&(s=n.g.currency_symbol,a=n.g.currency_symbol_direction,l=n.g.digit_after_decimal_point),(0,t.jsxs)(c.Xw,{paddingTop:"30px",spacing:2,children:[(0,t.jsxs)(_.Z,{direction:"row",justifyContent:"space-between",children:[(0,t.jsxs)(u.Z,{fontSize:"20px",fontWeight:"600",children:[(0,x.t)("order"),(0,t.jsxs)(u.Z,{component:"span",fontSize:"20px",fontWeight:"600",marginLeft:"3px",children:["#",null==m?void 0:m.id]})]}),(0,t.jsx)(u.Z,{fontSize:"20px",fontWeight:"600",children:(0,k.Bg)(null==m?void 0:m.order_amount,a,s,l)})]}),(0,t.jsx)(w.Z,{border:"2px",width:"100%"}),(0,t.jsxs)(c.Xw,{direction:{xs:"column",md:"row"},gap:{xs:"10px",md:"70px"},paddingTop:"20px",justifyContent:"space-between",children:[(0,t.jsxs)(_.Z,{direction:"row",spacing:1,alignItems:"center",padding:"1rem",minWidth:{xs:"200px",md:"320px"},backgroundColor:(0,j.Fq)(v.palette.primary.main,.1),borderRadius:"8px",children:[(0,t.jsx)(Z.Z,{color:"primary"}),(0,t.jsx)(u.Z,{fontSize:"12px",children:null==m?void 0:null===(i=m.restaurant)||void 0===i?void 0:i.name})]}),(0,t.jsxs)(_.Z,{direction:"row",spacing:1,alignItems:"center",padding:"1rem",backgroundColor:(0,j.Fq)(v.palette.primary.main,.1),minWidth:{xs:"200px",md:"320px"},borderRadius:"8px",children:[(0,t.jsx)(y.Z,{color:"primary"}),(0,t.jsx)(u.Z,{fontSize:"12px",children:null==m?void 0:null===(o=m.delivery_address)||void 0===o?void 0:o.address})]}),(0,t.jsx)(f.Z,{onClick:()=>{C?g.push({pathname:"/info",query:{page:"order",orderId:null==m?void 0:m.id}}):g.push("/order-history/".concat(null==m?void 0:m.id,"?phone=").concat(z,"&orderId=").concat(null==m?void 0:m.id))},variant:"outlined",sx:{color:e=>e.palette.primary.main},children:(0,x.t)("View Order Details")})]}),(0,t.jsx)(c.Xw,{children:(0,t.jsx)(S.Z,{guestOrderTracking:!0,data:m})})]})},C=n(45570),P=e=>{var r,n;let{configData:d}=e,[o,s]=(0,i.useState)(!1),a=(0,v.TA)({initialValues:{order_id:"",contact_person_number:""},onSubmit:async(e,r)=>{try{s(!0),j()}catch(e){}}}),_=(0,O.P)(),{refetch:j,data:f,isLoading:Z}=(0,C.Z)(null==a?void 0:null===(r=a.values)||void 0===r?void 0:r.order_id,null==a?void 0:null===(n=a.values)||void 0===n?void 0:n.contact_person_number,_);return(0,t.jsx)(l.a,{children:(0,t.jsx)(c.Xw,{spacing:2,pt:"60px",children:(0,t.jsxs)(c.iD,{children:[(0,t.jsx)(u.Z,{align:"center",paddingBottom:"30px",fontSize:"20px",fontWeight:"600",children:(0,x.t)("Track Your Order")}),(0,t.jsx)("form",{noValidate:!0,onSubmit:a.handleSubmit,children:(0,t.jsxs)(p.ZP,{container:!0,spacing:2,paddingX:{xs:".5rem",md:"2rem"},children:[(0,t.jsx)(p.ZP,{item:!0,xs:12,md:5,children:(0,t.jsx)(h.Z,{placeholder:(0,x.t)("Enter your order id"),required:"true",type:"text",label:(0,x.t)("Order Id"),touched:a.touched.order_id,errors:a.errors.order_id,fieldProps:a.getFieldProps("order_id"),onChangeHandler:e=>{a.setFieldValue("order_id",e)},value:a.values.order_id})}),(0,t.jsx)(p.ZP,{item:!0,xs:12,md:5,children:(0,t.jsx)(m.Z,{value:a.values.contact_person_number,onHandleChange:e=>{a.setFieldValue("contact_person_number",e)},initCountry:null==d?void 0:d.country,touched:a.touched.contact_person_number,errors:a.errors.contact_person_number,rtlChange:"true",height:"45px"})}),(0,t.jsx)(p.ZP,{item:!0,xs:12,md:2,children:(0,t.jsx)(g.TG,{paddingTop:"12px",paddingBottom:"8px",type:"submit",children:(0,x.t)("Search Order")})})]})}),f&&(0,t.jsx)(z,{trackOrderFormik:a,showOrderDetails:s,trackOrderData:f})]})})})},T=n(57705),E=!0,N=e=>{let{configData:r}=e,{id:n}=(0,d.useRouter)().query;return(0,t.jsx)("div",{className:"div",children:(0,t.jsxs)(T.Z,{children:[(0,t.jsx)(a.Z,{title:"Order Tracking - ".concat(null==r?void 0:r.business_name)}),(0,t.jsx)(o.Z,{maxWidth:"lg",sx:{mb:{xs:"72px",md:"0"}},children:(0,t.jsx)(s.Z,{mt:{xs:"20px",md:"80px"},minHeight:"500px",children:(0,t.jsx)(P,{configData:r})})})]})})}}},function(e){e.O(0,[5142,2023,2888,9774,179],function(){return e(e.s=1878)}),_N_E=e.O()}]);