(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9680],{83669:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/interest",function(){return t(80809)}])},6490:function(e,n,t){"use strict";t(83454).env.NEXT_CLIENT_HOST_URL},57705:function(e,n,t){"use strict";var r=t(85893),s=t(67294),i=t(11163),l=t(66720);let a=e=>{let{children:n}=e,t=(0,i.useRouter)(),[a,o]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{if(!t.isReady)return;let e=JSON.parse(localStorage.getItem("zoneid"));(null==e?void 0:e.length)>0?o(!0):t.push("/")},[t.isReady]),a)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.ZP,{}),n]}):null};a.propTypes={},n.Z=a},80809:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return O},default:function(){return D}});var r=t(85893),s=t(67294),i=t(25617),l=t(46089),a=t(7036),o=t(27023),d=t(26793),c=t(945),u=t(75904),p=t(88767);let x=async()=>{let{data:e}=await u.Z.get("/api/v1/categories");return e},m=e=>(0,p.useQuery)("category-list",()=>x(),{onSuccess:e});var g=t(86886),v=t(59605),h=t(98396),f=t(61929),_=t(83287);let j=async e=>{let{data:n}=await u.Z.post("/api/v1/customer/update-interest",e);return n},Z=()=>(0,p.useMutation)("store_selected_category",j);var w=t(11163),b=t.n(w),y=t(22400),S=t(74931),E=t(18979);let I=e=>{let n=(0,f.Z)(),t=(0,h.Z)(n.breakpoints.down("md"));return(0,r.jsx)(g.ZP,{container:!0,spacing:2,children:[...Array(16)].map((e,n)=>(0,r.jsx)(g.ZP,{item:!0,xs:6,sm:3,md:2,lg:2,align:"center",children:(0,r.jsx)(a.iD,{padding:".5rem",children:(0,r.jsxs)(a.Xw,{spacing:1,alignItems:"center",children:[(0,r.jsx)(E.Z,{variant:"rectangular",width:"100%",height:t?"100px":"150px"}),(0,r.jsx)(E.Z,{variant:"text",width:"100px"})]})})},n))})};I.propTypes={};var T=t(93473);let k=e=>{let{t:n}=(0,d.$)(),t=(0,i.I0)(),{global:l}=(0,i.v9)(e=>e.globalSettings),[u,p]=(0,s.useState)([]),[x,j]=(0,s.useState)([]),{featuredCategories:w}=(0,i.v9)(e=>e.storedData),{refetch:y}=m(e=>{t((0,T.vV)(e))});(0,s.useEffect)(()=>{(null==w?void 0:w.length)===0&&y()},[]);let E=(0,f.Z)(),k=(0,h.Z)(E.breakpoints.down("md")),N=e=>{u.find(n=>n===e.id)?p(u.filter(n=>n!==e.id)):p(n=>[...n,e.id])},P=e=>!!u.find(n=>n===e),{mutate:C,isLoading:X}=Z(),R=()=>{C({interest:u},{onSuccess:e=>{S.Am.success(null==e?void 0:e.message),b().push("/home")},onError:e=>{var n,t;S.Am.error(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)}})};return(0,r.jsxs)(a.Xw,{spacing:1,alignItems:"center",justifyContent:"center",children:[(0,r.jsx)(a.n2,{variant:"h3",sx:{color:e=>e.palette.neutral[1e3]},children:n("Choose Your Interests")}),(0,r.jsx)(c.mI,{variant:"h4",nodefaultfont:"true",children:n("Get personalized food recommendations.")}),(0,r.jsxs)(g.ZP,{container:!0,spacing:2,children:[w.length>0?w.map((e,n)=>{var t;return(0,r.jsx)(g.ZP,{onClick:()=>N(e),item:!0,xs:6,sm:3,md:2,lg:2,align:"center",sx:{cursor:"pointer"},children:(0,r.jsx)(a.iD,{padding:".5rem",sx:{border:P(e.id)&&"2px solid",borderColor:P(e.id)&&"primary.main"},children:(0,r.jsxs)(a.Xw,{spacing:1,children:[(0,r.jsx)(v.Z,{height:k?"100px":"150px",width:"100%",src:"".concat(null==l?void 0:null===(t=l.base_urls)||void 0===t?void 0:t.category_image_url,"/").concat(e.image)}),(0,r.jsx)(o.ZT,{children:e.name})]})})},n)}):(0,r.jsx)(I,{}),(0,r.jsx)(g.ZP,{item:!0,xs:12,md:12,align:"center",children:(0,r.jsx)(_.Z,{disabled:0===u.length,loading:X,variant:"contained",sx:{marginTop:"1rem",width:{xs:"auto",sm:"200px"}},onClick:()=>R(),children:n("Save")})})]})]})};k.propTypes={};var N=t(65582),P=t(18377);t(84622);var C=t(48038),X=t(70667),R=t(46147);t(55720),t(6490);var A=t(57705),O=!0,D=e=>{var n,t;let{configData:s}=e,{global:a}=(0,i.v9)(e=>e.globalSettings),o=null==a?void 0:null===(n=a.base_urls)||void 0===n?void 0:n.business_logo_url;null==a||a.business_name;let{isLoading:d,data:c,isError:u,error:x,refetch:m}=(0,p.useQuery)(["profile-info"],C.R.profileInfo,{onError:y.f}),g=(0,i.I0)();return c&&(g((0,R.o8)(null==c?void 0:null===(t=c.data)||void 0===t?void 0:t.wallet_balance)),g((0,X.av)(null==c?void 0:c.data))),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{title:null==s?void 0:s.business_name,description:"A multi-restaurant e-commerce web app",keywords:"",ogImage:"".concat(o,"/").concat(null==a?void 0:a.logo)}),(0,r.jsx)(A.Z,{children:(0,r.jsx)(N.Z,{maxWidth:"lg",sx:{mb:{xs:"72px",md:"32px"}},children:(0,r.jsx)(P.Z,{mt:{xs:"90px",md:"150px"},children:(0,r.jsx)(k,{})})})})]})}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=83669)}),_N_E=e.O()}]);