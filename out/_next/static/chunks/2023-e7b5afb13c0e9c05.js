"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2023],{68700:function(e,i,t){t(67294);var n=t(25617),l=t(30381),r=t.n(l);i.Z=e=>{let{date:i}=e,{global:t}=(0,n.v9)(e=>e.globalSettings);return"12"===(null==t?void 0:t.timeformat)?r()(i).format("ll hh:mm a"):r()(i).format("ll HH:mm")}},2742:function(e,i,t){var n=t(25617),l=t(30381),r=t.n(l);i.Z=e=>{let{date:i}=e,{global:t}=(0,n.v9)(e=>e.globalSettings);return"12"===(null==t?void 0:t.timeformat)?r()(i).format("hh:mm a"):r()(i).format("HH:mm")}},61322:function(e,i,t){t.d(i,{Z:function(){return D}});var n=t(85893),l=t(67294),r=t(86886),o=t(44472),a=t(83578),d=t(15861),s=t(18979),p=t(90948),c=t(76624),u=t(76229);(0,p.ZP)(u.Z)(e=>{let{theme:i,activeStep:t,index:n,completed:l}=e;return{borderLeft:"2px solid",color:t===n+1?i.palette.success.light:i.palette.neutral[350],marginLeft:"15px",paddingLeft:"40px",paddingRight:"0px"}});let x=(0,p.ZP)(c.Z)(e=>{let{theme:i}=e;return{"& .MuiStepConnector-line":{borderTopWidth:"2px",borderLeftWidth:"2px",height:"80px"},"& .MuiStepConnector-root.Mui-active .MuiStepConnector-line":{borderColor:i.palette.primary.main,height:"80px"},"& .MuiStepConnector-root.Mui-completed .MuiStepConnector-line":{borderColor:i.palette.primary.main,height:"80px"},"& .MuiStepLabel-iconContainer .Mui-active":{marginTop:"0px",width:"38px",height:"38px",borderColor:i.palette.primary.main,border:"3px solid ".concat(i.palette.primary.main),borderRadius:"50%",padding:"2px"},"& .MuiStepLabel-iconContainer .Mui-completed":{width:"32px",height:"32px",borderColor:i.palette.primary.main},"& .MuiStepContent-root":{},"& .MuiStepLabel-label":{marginLeft:"20px",[i.breakpoints.down("sm")]:{marginLeft:"0px"},"& .MuiTypography-body1":{fontSize:"16px",[i.breakpoints.down("sm")]:{fontSize:"12px"}}},"& .MuiStepLabel-iconContainer ":{width:"32px",height:"32px",borderColor:i.palette.primary.main},"& .MuiStepConnector-root ":{top:"16px"},"& .MuiSvgIcon-root":{width:"32px",height:"32px"},"& .MuiStepLabel-root":{padding:"0px"}}});var v=t(99226);(0,p.ZP)(r.ZP)(()=>({background:"#FFFFFF",boxShadow:"0px 0px 2px rgba(145, 158, 171, 0.2), 0px 12px 24px -4px rgba(145, 158, 171, 0.1)",borderRadius:"10px",padding:"10px 20px"})),(0,p.ZP)(v.Z)(()=>({paddingTop:"10px",paddingBottom:"70px"})),(0,p.ZP)(v.Z)(()=>({padding:"10px 0px 20px 0px",textAlign:"center"}));let m=(0,p.ZP)(v.Z)(()=>({padding:"35px 0px 10px 0px",width:"100%"}));t(51333);var h=t(81982),g=t(28967);t(30381);var j=t(26793),f=t(7036),Z=t(41664),w=t.n(Z);t(68700);var y=t(2742),b=t(26447),_=t(59605),S=t(75576),C=t(70880),M=t(69661);let F=(0,p.ZP)(M.Z)(e=>{let{theme:i}=e;return{height:"2.5rem",width:"2.5rem"}}),I=e=>{let{avatarImage:i,alt:t}=e;return(0,n.jsx)(C.Eq,{size:"large",color:"inherit",children:(0,n.jsx)(F,{alt:t,src:i})})};I.propTypes={};var k=t(25617),z=t(7078),L=t(27023),P=t(945),T=t(88767),E=t(22917),X=t(22400);let W=e=>{var i,t,r,o,a,s,p,c,u,x,v,m,g,Z,y,C,M,F,W,A,N;let{data:R}=e,{t:H}=(0,j.$)(),{global:O}=(0,k.v9)(e=>e.globalSettings),D=null==O?void 0:null===(i=O.base_urls)||void 0===i?void 0:i.delivery_man_image_url,q={latitude:null!==(y=null==R?void 0:null===(t=R.delivery_man)||void 0===t?void 0:t.lat)&&void 0!==y?y:0,longitude:null!==(C=null==R?void 0:null===(r=R.delivery_man)||void 0===r?void 0:r.lng)&&void 0!==C?C:0},G={lat:null!==(M=null==R?void 0:null===(o=R.delivery_address)||void 0===o?void 0:o.latitude)&&void 0!==M?M:0,lng:null!==(F=null==R?void 0:null===(a=R.delivery_address)||void 0===a?void 0:a.longitude)&&void 0!==F?F:0},{data:J,refetch:K}=(0,T.useQuery)(["get-distance",q,G],()=>E.K.distanceApi(q,G),{enabled:!1,onError:X.R});(0,l.useEffect)(()=>{K()},[R]);let U=H("away");return(0,n.jsxs)(f.Xw,{alignItems:"center",spacing:1.5,children:[(0,n.jsx)(d.Z,{fontSize:"18px",fontWeight:500,children:H("Trip Route")}),(0,n.jsxs)(f.Xw,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:.5,children:[(0,n.jsx)(L.ZT,{sx:{fontSize:{xs:"12px",md:"14px"}},children:null==R?void 0:null===(s=R.delivery_man)||void 0===s?void 0:s.location}),(0,n.jsx)(_.Z,{src:"/_next/static/media/delivery-truck.f9f5a168.png",height:"30px",width:"60px"}),(0,n.jsx)(L.ZT,{sx:{fontSize:{xs:"12px",md:"14px"}},children:null==R?void 0:null===(p=R.delivery_address)||void 0===p?void 0:p.address})]}),(0,n.jsxs)(f.Xw,{alignItems:"center",children:[(0,n.jsx)(_.Z,{src:"/_next/static/media/route.bcac5a91.png",height:"30px",width:"30px"}),(0,n.jsxs)(P.mI,{sx:{fontSize:"18px"},fontweight:"400",children:[(0,h.NY)(null==J?void 0:null===(N=J.data)||void 0===N?void 0:null===(A=N.rows)||void 0===A?void 0:null===(W=A[0])||void 0===W?void 0:W.elements,q,G).toFixed(2),"km ",H("".concat(U))]})]}),(0,n.jsx)(f.Xw,{alignItems:"flex-start",justifyContent:"flex-start",children:(0,n.jsx)(d.Z,{fontSize:"18px",fontWeight:500,children:H("Delivery man")})}),(0,n.jsxs)(f.Xw,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,n.jsxs)(b.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:[(0,n.jsx)(I,{avatarImage:"".concat(D,"/").concat(null==R?void 0:null===(c=R.delivery_man)||void 0===c?void 0:c.image),alt:null==R?void 0:null===(x=R.delivery_man)||void 0===x?void 0:x.f_name.concat(" ",null==R?void 0:null===(u=R.delivery_man)||void 0===u?void 0:u.l_name)}),(0,n.jsxs)(b.Z,{alignItems:"flex-start",children:[(0,n.jsx)(d.Z,{fontSize:"16px",fontweight:"400",children:null==R?void 0:null===(m=R.delivery_man)||void 0===m?void 0:m.f_name.concat(" ",null==R?void 0:null===(v=R.delivery_man)||void 0===v?void 0:v.l_name)}),(0,n.jsx)(S.Z,{readOnly:!0,ratingValue:null==R?void 0:null===(g=R.delivery_man)||void 0===g?void 0:g.rating_count})]})]}),(0,n.jsx)(b.Z,{direction:"row",spacing:2,children:(0,n.jsx)(b.Z,{sx:{cursor:"pointer"},children:(0,n.jsx)(w(),{href:{pathname:"/info",query:{page:"inbox",type:"delivery_man",id:null==R?void 0:null===(Z=R.delivery_man)||void 0===Z?void 0:Z.id,routeName:"delivery_man_id",chatFrom:"true"}},children:(0,n.jsx)(z.Z,{sx:{height:25,width:25,color:e=>e.palette.neutral[500]}})})})})]})]})};W.propTypes={};var A=()=>(0,n.jsxs)(f.Xw,{alignItems:"center",spacing:1.5,justifyContent:"center",children:[(0,n.jsx)(s.Z,{variant:"text",width:"100px"}),(0,n.jsxs)(f.Xw,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:.5,children:[(0,n.jsx)(s.Z,{variant:"text",width:"100px"}),(0,n.jsx)(s.Z,{variant:"rectangle",width:"50px",height:"50px"}),(0,n.jsx)(s.Z,{variant:"text",width:"100px"})]}),(0,n.jsxs)(f.Xw,{alignItems:"center",justifyContent:"center",spacing:.5,children:[(0,n.jsx)(s.Z,{variant:"rectangle",width:"50px",height:"50px"}),(0,n.jsx)(s.Z,{variant:"text",width:"100px"})]})]}),N=t(40077),R=t(61929),H=t(98396),O=t(44105),D=e=>{var i,t;let{data:p,guestOrderTracking:c}=e,[u,v]=(0,l.useState)(1),h=[{label:"Order placed",time:null==p?void 0:p.pending},{label:"Order Confirmed",time:null==p?void 0:p.confirmed},{label:"Preparing Food",time:null==p?void 0:p.processing},{label:"Food is on the way",time:null==p?void 0:p.picked_up},{label:"Delivered",time:null==p?void 0:p.delivered}];(0,l.useEffect)(()=>{(null==p?void 0:p.order_status)==="panding"?v(1):(null==p?void 0:p.order_status)==="confirmed"?v(2):(null==p?void 0:p.order_status)==="processing"||(null==p?void 0:p.order_status)==="handover"?v(3):(null==p?void 0:p.order_status)==="picked_up"?v(4):(null==p?void 0:p.order_status)==="delivered"&&v(5)},[u,p]);let Z=null==p?void 0:null===(i=p.delivery_address)||void 0===i?void 0:i.latitude,w=null==p?void 0:null===(t=p.delivery_address)||void 0===t?void 0:t.longitude;null==p||p.restaurant.latitude,null==p||p.restaurant.longitude;let{t:b}=(0,j.$)(),_=(0,R.Z)(),S=(0,H.Z)(_.breakpoints.down("sm")),[C,M]=(0,l.useState)("ltr");return(0,l.useEffect)(()=>{localStorage.getItem("direction")&&M(localStorage.getItem("direction"))},[]),(0,n.jsx)(O.l,{direction:C,children:(0,n.jsx)(f.Xw,{children:(0,n.jsxs)(r.ZP,{container:!0,item:!0,md:12,xs:12,mb:"1rem",children:[(0,n.jsx)(r.ZP,{item:!0,md:12,xs:12,children:(0,n.jsx)(N.Z,{style:{height:S?"175px":"150px"},children:(0,n.jsx)(O.l,{children:(0,n.jsx)(m,{children:(0,n.jsx)(x,{activeStep:u,alternativeLabel:!0,children:h.map((e,i)=>(0,n.jsx)(o.Z,{children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(d.Z,{children:b(e.label)}),p?(0,n.jsx)(d.Z,{fontSize:"12px",color:_.palette.neutral[600],children:null!==e.time?(0,n.jsx)(y.Z,{date:e.time}):""}):(0,n.jsx)(s.Z,{variant:"text"})]})},e))})})})})}),(0,n.jsx)(r.ZP,{item:!0,md:12,xs:12,p:"1.4rem",children:(0,n.jsx)(g.Z,{latitude:Z,longitude:w})}),(0,n.jsx)(r.ZP,{item:!0,md:12,xs:12,align:"center",p:"1.4rem",children:p?(null==p?void 0:p.delivery_man)?(0,n.jsx)(W,{data:p}):(0,n.jsx)(d.Z,{children:b("Delivery man has not been assigned")}):(0,n.jsx)(A,{})})]})})})}},28967:function(e,i,t){var n=t(85893),l=t(67294),r=t(37054),o=t(66489),a=t(26447);t(75888),t(76728);var d=t(18377),s=t(51126),p=t(52443);let c={width:"100%",height:"450px"};i.Z=e=>{let{latitude:i,longitude:u,data:x,handleRouteToRestaurant:v}=e,m=(0,p.u)(),h={lat:parseFloat(i),lng:parseFloat(u)},g=(0,l.useMemo)(()=>({zoomControl:!1,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1}),[]),[j,f]=(0,l.useState)(!1),{isLoaded:Z}=(0,r.Ji)({id:"google-map-script",googleMapsApiKey:"AIzaSyC0etfL3e_wWMnWUwMcv9Its5rtEjbApZ4"}),[w,y]=(0,l.useState)(null),[b,_]=(0,l.useState)(null),S=(0,l.useCallback)(function(e){y(e)},[]),C=l.useCallback(function(e){y(null)},[]);return(0,l.useEffect)(()=>{w&&f(!0)},[w]),Z?(0,n.jsx)(a.Z,{className:"map",children:(0,n.jsx)(r.b6,{mapContainerStyle:c,center:h,onLoad:S,zoom:12,onUnmount:C,options:g,children:(null==x?void 0:x.length)>0?(0,n.jsx)(n.Fragment,{children:null==x?void 0:x.map(e=>(0,n.jsx)(r.jC,{position:{lat:parseFloat(null==e?void 0:e.latitude),lng:parseFloat(null==e?void 0:e.longitude)},icon:{url:"static/map2.svg",scale:7},onClick:()=>_(null==e?void 0:e.id),children:b===(null==e?void 0:e.id)&&(0,n.jsx)(r.kp,{position:{lat:parseFloat(null==e?void 0:e.latitude),lng:parseFloat(null==e?void 0:e.longitude)},pixelOffset:new window.google.maps.Size(0,-30),children:(0,n.jsxs)(d.Z,{sx:{color:m.palette.neutral[800],svg:{color:m.palette.primary.main}},onClick:()=>v(e),children:[(0,n.jsx)(a.Z,{direction:"row",gap:1,mb:1,children:(0,n.jsxs)(d.Z,{width:"0",flexGrow:"1",sx:{cursor:"pointer"},children:[null==e?void 0:e.name," ",(0,n.jsxs)(d.Z,{component:"small",color:"primary.main",children:["(",((null==e?void 0:e.distance)/1e3).toFixed(2),"km ",(0,s.t)("away"),")"]})]})}),(0,n.jsx)(a.Z,{direction:"row",gap:1,fontSize:"0.75rem",children:(0,n.jsx)(d.Z,{width:"0",flexGrow:"1",children:null==e?void 0:e.address})})]})})},"".concat(name,"-").concat(parseFloat(i),"-").concat(parseFloat(u),"\n                    ")))}):(0,n.jsxs)(n.Fragment,{children:[" ",j?(0,n.jsx)(r.Jx,{position:h,icon:{url:t(75888),scale:7}}):(0,n.jsx)(a.Z,{alignItems:"center",style:{zIndex:3,position:"absolute",marginTop:-37,marginLeft:-11,left:"50%",top:"50%"},children:(0,n.jsx)(o.Z,{})})]})})}):(0,n.jsx)(o.Z,{})}}}]);