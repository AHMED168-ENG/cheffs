"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6861],{1645:function(e,t,i){var r=i(64836);t.Z=void 0;var n=r(i(64938)),d=i(85893),o=(0,n.default)((0,d.jsx)("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"LocalShipping");t.Z=o},26861:function(e,t,i){i.d(t,{Z:function(){return H}});var r=i(85893),n=i(67294),d=i(86886),o=i(99226),l=i(26447),s=i(11057),a=i(41796),p=i(15861),x=i(1645);i(41664);var u=i(90948);(0,u.ZP)(s.Z)(e=>{let{theme:t,background:i}=e;return{borderRadius:"14px",background:i,display:"block",[t.breakpoints.up("xs")]:{width:"120.12px",height:"84.91px"},[t.breakpoints.up("md")]:{width:"225px",height:"115px"}}}),(0,u.ZP)(s.Z)(e=>{let{theme:t,background:i}=e;return{borderRadius:"14px",display:"block",background:i,color:"".concat("dark"===t.palette.mode?"#fff":"#000"),[t.breakpoints.up("xs")]:{width:"120.12px"},[t.breakpoints.up("md")]:{width:"225px"}}}),(0,u.ZP)(p.Z)(e=>{let{theme:t}=e;return{[t.breakpoints.up("xs")]:{fontSize:"12px"},[t.breakpoints.up("md")]:{fontSize:"16px"}}}),(0,u.ZP)("img")(e=>{let{theme:t}=e;return{[t.breakpoints.up("xs")]:{width:"42px"},[t.breakpoints.up("md")]:{width:"57px"}}}),(0,u.ZP)(d.ZP)(()=>({display:"flex",justifyContent:"end"})),(0,u.ZP)(d.ZP)(()=>({paddingTop:"30px",paddingBottom:"60px"})),(0,u.ZP)(o.Z)(e=>{let{theme:t}=e;return{textAlign:"center",textTransform:"capitalize",background:"rgba(0, 95, 149, 0.1)",color:"#005F95",borderRadius:"5px",padding:"5px",width:"auto",[t.breakpoints.down("md")]:{maxWidth:"100px"},[t.breakpoints.up("xs")]:{fontSize:"12px"},[t.breakpoints.up("md")]:{fontSize:"16px"}}}),(0,u.ZP)(s.Z)(e=>{let{theme:t}=e;return{background:"rgba(0, 171, 17, 0.1);",color:"#00AB11",borderRadius:"5px",[t.breakpoints.up("xs")]:{width:"59.68px",height:"20.56px",fontSize:"12px"},[t.breakpoints.up("md")]:{width:"88px",height:"30px",fontSize:"14px"}}});let c=(0,u.ZP)(s.Z)(e=>{let{theme:t}=e;return{width:"100%",height:"40px",background:t.palette.primary.main,border:"1px solid rgba(239, 120, 34, 0.3)",borderRadius:"5px",color:"".concat(t.palette.whiteContainer.main," !important"),gap:"5px",boxShadow:"0px 0px 1.81508px rgba(145, 158, 171, 0.2), 0px 9.07541px 18.1508px -2.72262px rgba(145, 158, 171, 0.05)","&:hover":{backgroundColor:t.palette.primary.dark},[t.breakpoints.up("md")]:{width:"150px",height:"40px",fontSize:"16px"}}});(0,u.ZP)(p.Z)(e=>{let{theme:t}=e;return{[t.breakpoints.up("xs")]:{fontSize:"12px"},[t.breakpoints.up("md")]:{fontSize:"16px"}}}),(0,u.ZP)(p.Z)(e=>{let{theme:t}=e;return{color:"#9B9B9B",[t.breakpoints.up("xs")]:{fontSize:"12px"},[t.breakpoints.up("md")]:{fontSize:"16px"}}}),(0,u.ZP)(p.Z)(e=>{let{theme:t}=e;return{[t.breakpoints.up("xs")]:{fontSize:"14px"},[t.breakpoints.up("md")]:{fontSize:"22px"}}}),(0,u.ZP)(p.Z)(()=>({display:"flex",justifyContent:"space-between",alignItems:"center"})),(0,u.ZP)(d.ZP)(()=>({boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.08)",background:"#FFFFFF",padding:"10px"})),(0,u.ZP)(o.Z)(e=>{let{theme:t}=e;return{boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.08)",background:"".concat("dark"===t.palette.mode?"#000":"#fff"),padding:"10px",color:"".concat("dark"===t.palette.mode?"#fff":"#000"),marginBottom:"10px"}}),(0,u.ZP)(o.Z)(()=>({display:"flex",justifyContent:"center",padding:"30px 0px 50px 0px"}));var m=i(81982),h=i(25617),v=i(26793),g=i(11163),f=i(68700),b=i(59605),Z=i(36732),k=i(7036);i(82473);var j=i(25429),w=i(66242),_=i(61929),y=i(98396);i(76753);var S=e=>{var t,i,n;let o,u,S,{order:z,index:P,isXs:C,offset:F,limit:R}=e,{t:B}=(0,v.$)(),I=(0,g.useRouter)(),W=(0,_.Z)(),T=(0,y.Z)(W.breakpoints.down("sm")),{global:A}=(0,h.v9)(e=>e.globalSettings),O=null==A?void 0:null===(t=A.base_urls)||void 0===t?void 0:t.restaurant_image_url;A&&(o=A.currency_symbol,u=A.currency_symbol_direction,S=A.digit_after_decimal_point);let q=(0,h.I0)(),H=()=>{(null==z?void 0:z.delivery_man)&&q((0,Z.gr)(null==z?void 0:z.delivery_man)),I.push({pathname:"/info",query:{page:"order",orderId:null==z?void 0:z.id,isTrackOrder:!0}})},E=()=>{I.push("/rate-and-review/".concat(null==z?void 0:z.id))},D=W.palette.success.main;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(w.Z,{padding:"1rem",sx:{backgroundColor:"dark"===W.palette.mode?e=>e.palette.cardBackground1:T?"white":e=>(0,a.Fq)(e.palette.neutral[200],.6),padding:"1rem",width:"100%",borderRadius:"5px",marginBottom:"10px",cursor:"pointer"},children:(0,r.jsxs)(d.ZP,{container:!0,alignItems:{xs:"flex-start",md:"center"},spacing:1,children:[!T&&(0,r.jsx)(d.ZP,{item:!0,xs:2,sm:1,md:1,textAlign:"center",children:(F-1)*R+P+1}),(0,r.jsx)(d.ZP,{item:!0,xs:9,sm:4.5,md:4,children:(0,r.jsxs)(k.Xw,{direction:"row",spacing:2,onClick:()=>{(null==z?void 0:z.delivery_man)&&q((0,Z.gr)(null==z?void 0:z.delivery_man)),I.push({pathname:"/info",query:{page:"order",orderId:null==z?void 0:z.id}},void 0,{shallow:!0})},children:[(0,r.jsx)(b.Z,{src:"".concat(O,"/").concat(null==z?void 0:null===(i=z.restaurant)||void 0===i?void 0:i.logo),width:"60px",height:"60px",borderRadius:"5px",objectFit:"cover"}),(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(p.Z,{fontSize:{xs:"13px",md:"14px"},fontWeight:"600",children:null==z?void 0:null===(n=z.restaurant)||void 0===n?void 0:n.name}),(0,r.jsx)(k.i5,{fontSize:"12px",fontWeight:"400",sx:{textTransform:" capitalize",color:(null==z?void 0:z.order_status)==="delivered"&&D},children:(null==z?void 0:z.order_status)==="failed"?B("Payment Failed"):B(null==z?void 0:z.order_status).replaceAll("_"," ")}),(0,r.jsx)(p.Z,{fontSize:"12px",fontWeight:"400",color:W.palette.neutral[400],children:(null==z?void 0:z.order_status)=="delivered"?(0,r.jsx)(f.Z,{date:null==z?void 0:z.delivered}):(0,r.jsx)(f.Z,{date:null==z?void 0:z.created_at})})]})]})}),(0,r.jsx)(d.ZP,{item:!0,xs:3,sm:2,md:2.5,children:(0,r.jsx)(p.Z,{fontSize:T?"13px":"16px",fontWeight:"500",textAlign:T?"left":"center",children:(0,m.Bg)(null==z?void 0:z.order_amount,u,o,S)})}),(0,r.jsx)(d.ZP,{item:!0,xs:12,sm:4.5,md:4.5,align:"right",children:(null==z?void 0:z.order_status)=="delivered"?(0,r.jsx)(l.Z,{flexDirection:"row",gap:"20px",justifyContent:"flex-end",pt:{xs:"10px",sm:"0px",md:"0px"},children:(0,r.jsx)(s.Z,{onClick:()=>E(),variant:"outlined",sx:{p:{xs:"5px",sm:"5px",md:"6px"}},children:(0,r.jsxs)(l.Z,{alignItems:"center",justifyContent:"space-between",direction:"row",gap:{xs:"5px",sm:"6px",md:"10px"},flexWrap:"wrap",children:[(0,r.jsx)(b.Z,{src:j.Z.src,width:{xs:"15px",md:"20px"},height:{xs:"15px",md:"20px"}}),(0,r.jsx)(k.i5,{color:"primary",fontWeight:600,fontSize:"14px",smallFont:"12px",children:B("Give Review")})]})})}):(0,r.jsx)(l.Z,{spacing:1,alignItems:"flex-end",children:(null==z?void 0:z.order_status)!=="delivered"&&(null==z?void 0:z.order_status)!=="failed"&&(null==z?void 0:z.order_status)!=="canceled"&&(null==z?void 0:z.order_status)!=="refund_requested"&&(null==z?void 0:z.order_status)!=="refunded"&&(0,r.jsx)(l.Z,{flexWrap:"wrap",children:(0,r.jsxs)(c,{size:"small",onClick:()=>H(),sx:{padding:{xs:"7px 7px"},height:"30px"},children:[(0,r.jsx)(x.Z,{sx:{fontSize:"14px"}}),B("Track Order")]})})})})]})})})},z=i(88767),P=i(31003),C=i(59748),F=i(72679),R=i(19611),B=i(22400),I=i(88085);let W=e=>{let{data:t,selected:i,buttonsData:n,handleSelection:d}=e,{t:o}=(0,v.$)();return(0,r.jsx)(I.Z,{direction:"row",alignItems:"center",spacing:2,children:(null==n?void 0:n.length)>0&&(null==n?void 0:n.map((e,t)=>(0,r.jsx)(s.Z,{sx:{borderRadius:"3px",borderBottom:"5px solid",borderBottomColor:i===(null==e?void 0:e.value)?e=>e.palette.primary.main:"transparent"},onClick:()=>d(e.value),children:(0,r.jsx)(p.Z,{sx:{textAlign:"left",color:i===(null==e?void 0:e.value)?e=>e.palette.neutral[1e3]:e=>e.palette.neutral[400],fontWeight:i===(null==e?void 0:e.value)?"700":"400"},fontSize:{xs:"14px",sm:"16px",md:"18px"},children:o(null==e?void 0:e.title)})},t)))})};W.propTypes={};var T=i(18651),A=i(46089),O=i(48082);let q=[{title:"Ongoing",value:"running-orders"},{title:"Previous",value:"list"},{title:"Subscription",value:"order-subscription-list"}];var H=()=>{var e,t,i,s,a,p;let x=(0,h.I0)(),u=(0,_.Z)();(0,g.useRouter)().query;let{t:c}=(0,v.$)(),{global:m}=(0,h.v9)(e=>e.globalSettings),{orderType:f}=(0,h.v9)(e=>e.orderType),[b,Z]=(0,n.useState)(10),[j,w]=(0,n.useState)(1),I=(0,y.Z)(u.breakpoints.down("sm")),{isLoading:H,data:E,isError:D,error:M,refetch:N}=(0,z.useQuery)(["orders-list"===f,f,b,j],()=>P.R.orderHistory(f,b,j),{onError:B.f});return(0,n.useEffect)(()=>{x((0,R.wk)(f||"running-orders")),f&&N()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{title:" My Order-".concat(null==m?void 0:m.business_name),description:"",keywords:""}),(0,r.jsx)(k.iD,{padding:I?"10px 10px":"30px 40px",border:!1,sx:{minHeight:!I&&"558px",boxShadow:I&&"unset"},children:(0,r.jsxs)(d.ZP,{container:!0,spacing:2.4,children:[(0,r.jsx)(d.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,r.jsx)(W,{handleSelection:e=>{w(1),x((0,R.wk)(e))},buttonsData:q,selected:f})}),(0,r.jsxs)(d.ZP,{item:!0,xs:12,sm:12,md:12,columnSpacing:3,children:[null==E?void 0:null===(t=E.data)||void 0===t?void 0:null===(e=t.orders)||void 0===e?void 0:e.map((e,t)=>(0,r.jsx)(S,{order:e,index:t,limit:b,offset:j},t)),H&&(0,r.jsx)(o.Z,{mb:"1rem",children:(0,r.jsx)(C.Z,{})}),(0,r.jsx)(k.Xw,{sx:{height:"50px"},alignItems:"center",justifyContent:"center",children:(null==E?void 0:null===(i=E.data)||void 0===i?void 0:i.total_size)>10&&(0,r.jsx)(F.Z,{total_size:null==E?void 0:null===(s=E.data)||void 0===s?void 0:s.total_size,page_limit:b,offset:j,setOffset:w})})]}),(0,r.jsx)(d.ZP,{item:!0,xs:12,sm:12,md:12,children:(null==E?void 0:null===(p=E.data)||void 0===p?void 0:null===(a=p.orders)||void 0===a?void 0:a.length)===0&&(0,r.jsx)(l.Z,{minHeight:"30vh",pt:{xs:"10px",md:"50px"},children:(0,r.jsx)(T.Z,{label:"No Order found",image:O.S2,height:80,width:80})})})]})})]})}}}]);